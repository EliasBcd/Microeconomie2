<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="fr" xml:lang="fr"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.24">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="description" content="Notes du cours de microéconomie en licence 2 à l’université Paris 8.">

<title>1&nbsp; Le marché en concurrence pure et parfaite – Microéconomie 2</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./02-monopole.html" rel="next">
<link href="./index.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dc55a5b9e770e841cd82e46aadbfb9b0.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-0dd2bd5de344125cf763a379ddc3eb04.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "Pas de résultats",
    "search-matching-documents-text": "documents trouvés",
    "search-copy-link-title": "Copier le lien vers la recherche",
    "search-hide-matches-text": "Cacher les correspondances additionnelles",
    "search-more-match-text": "correspondance de plus dans ce document",
    "search-more-matches-text": "correspondances de plus dans ce document",
    "search-clear-button-title": "Effacer",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Annuler",
    "search-submit-button-title": "Envoyer",
    "search-label": "Recherche"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN" && texText && texText.data) {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Basculer la barre latérale" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./01-cpp.html"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Le marché en concurrence pure et parfaite</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Basculer la barre latérale" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Recherche" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header sidebar-header-stacked">
      <a href="./index.html" class="sidebar-logo-link">
      </a>
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Microéconomie 2</a> 
        <div class="sidebar-tools-main">
    <a href="./Microéconomie-2.pdf" title="Download PDF" class="quarto-navigation-tool px-1" aria-label="Download PDF"><i class="bi bi-file-pdf"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Recherche"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Microéconomie 2</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01-cpp.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Le marché en concurrence pure et parfaite</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-monopole.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Le monopole</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03-oligopoles.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Oligopoles</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07-references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Annexes</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Basculer la section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05-cppmono.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Résolution des problèmes</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06-equilibres.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">B</span>&nbsp; <span class="chapter-title">Comment trouver les équilibres ?</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07-surplus.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">C</span>&nbsp; <span class="chapter-title">Calcul des surplus</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table des matières</h2>
   
  <ul>
  <li><a href="#les-hypothèses-de-la-concurrence-pure-et-parfaite-cpp" id="toc-les-hypothèses-de-la-concurrence-pure-et-parfaite-cpp" class="nav-link active" data-scroll-target="#les-hypothèses-de-la-concurrence-pure-et-parfaite-cpp"><span class="header-section-number">1.1</span> Les hypothèses de la concurrence pure et parfaite (CPP)</a></li>
  <li><a href="#le-producteur" id="toc-le-producteur" class="nav-link" data-scroll-target="#le-producteur"><span class="header-section-number">1.2</span> Le producteur</a>
  <ul class="collapse">
  <li><a href="#fonctions-de-coût" id="toc-fonctions-de-coût" class="nav-link" data-scroll-target="#fonctions-de-coût"><span class="header-section-number">1.2.1</span> Fonctions de coût</a></li>
  <li><a href="#loffre-du-producteur" id="toc-loffre-du-producteur" class="nav-link" data-scroll-target="#loffre-du-producteur"><span class="header-section-number">1.2.2</span> L’offre du producteur</a></li>
  </ul></li>
  <li><a href="#le-consommateur" id="toc-le-consommateur" class="nav-link" data-scroll-target="#le-consommateur"><span class="header-section-number">1.3</span> Le consommateur</a></li>
  <li><a href="#léquilibre-de-marché" id="toc-léquilibre-de-marché" class="nav-link" data-scroll-target="#léquilibre-de-marché"><span class="header-section-number">1.4</span> L’équilibre de marché</a></li>
  <li><a href="#perception-par-les-agents-isolés" id="toc-perception-par-les-agents-isolés" class="nav-link" data-scroll-target="#perception-par-les-agents-isolés"><span class="header-section-number">1.5</span> Perception par les agents isolés</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Le marché en concurrence pure et parfaite</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<div id="def-marche" class="theorem definition">
<p><span class="theorem-title"><strong>Définition 1.1 (Le marché)</strong></span> Un <em>marché</em> est un lieu, physique ou virtuel, où se rencontrent l’offre et la demande de biens ou de services. C’est là que les prix sont déterminés par les interactions entre les acheteurs (=consommateurs) et les vendeurs (=producteurs). Tous les biens échangés sur un marché sont parfaitement substituables.</p>
</div>
<section id="les-hypothèses-de-la-concurrence-pure-et-parfaite-cpp" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="les-hypothèses-de-la-concurrence-pure-et-parfaite-cpp"><span class="header-section-number">1.1</span> Les hypothèses de la concurrence pure et parfaite (CPP)</h2>
<p>5 hypothèses garantissent l’existence d’un équilibre en concurrence pure et parfaite :</p>
<ol type="1">
<li>Atomicité des agents ;</li>
<li>Information parfaite ;</li>
<li>Mobilité parfaite des facteurs de production ;</li>
<li>Homogénéité des biens ;</li>
<li>Libre entrée et sortie du marché.</li>
</ol>
<p>Explicitons ce que signifient chacune de ces hypothèses.</p>
<div id="cnj-atomicite" class="theorem conjecture">
<p><span class="theorem-title"><strong>Hypothèse 1.1 (Atomicité des agents)</strong></span> L’hypothèse d’atomicité des agents implique qu’aucun agent, individu ou entreprise, n’a d’influence <em>individuellement</em> sur les prix. En d’autres termes, chaque agent est “petit” face au marché et considère le prix du marché comme une <em>donnée</em> qu’il ne peut pas influencer. On dit que les agents sont <em>price-taker</em> sur le marché.</p>
</div>
<div id="cnj-information" class="theorem conjecture">
<p><span class="theorem-title"><strong>Hypothèse 1.2 (Information parfaite)</strong></span> L’hypothèse d’information parfaite signifie que tous les acteurs disposent de toutes les informations <strong>pertinentes</strong> pour prendre leurs décisions. Il n’y a, par exemple, pas de coût de recherche d’information.</p>
</div>
<div id="cnj-mobilite" class="theorem conjecture">
<p><span class="theorem-title"><strong>Hypothèse 1.3 (Mobilité parfaite des facteurs de production)</strong></span> L’hypothèse de mobilité parfaite des facteurs de production garantit l’homogénéité spatiale du prix des facteurs. Les facteurs de production se déplacent où ils sont le mieux rémunérés. Les différences de coûts entre producteurs ne peuvent donc être dues qu’aux différences technologiques entre ceux-ci, et non à une différence de coût des facteurs de production.</p>
</div>
<div id="cnj-homogeneite" class="theorem conjecture">
<p><span class="theorem-title"><strong>Hypothèse 1.4 (Homogénéité des biens)</strong></span> L’homogénéité des biens signifie que tous les biens vendus sur un marché sont parfaitement substituables. Sur un marché donné, tous les biens ont la même qualité. Le consommateur est donc indifférent entre tous les biens vendus. Il n’y aussi pas d’effet des marques.</p>
</div>
<div id="cnj-libre-entree" class="theorem conjecture">
<p><span class="theorem-title"><strong>Hypothèse 1.5 (Libre entrée et sortie du marché)</strong></span> L’hypothèse de libre entrée et sortie du marché signifie qu’il n’y pas de barrière à l’entrée dans le marché. Concrètement, il est impossible de faire un bénéfice sur la dernière unité vendue en concurrence pure et parfaite, sinon un concurrent pourrait entrer sur le marché et faire des bénéfices.</p>
</div>
<p>La violation d’une de ces hypothèses nous fait sortir du cadre de la CPP et confère un <em>pouvoir de marché</em> aux producteurs ou aux consommateurs en place. Dans le cadre de ce cours, nous allons uniquement nous intéresser au pouvoir de marché des producteurs.</p>
</section>
<section id="le-producteur" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="le-producteur"><span class="header-section-number">1.2</span> Le producteur</h2>
<section id="fonctions-de-coût" class="level3" data-number="1.2.1">
<h3 data-number="1.2.1" class="anchored" data-anchor-id="fonctions-de-coût"><span class="header-section-number">1.2.1</span> Fonctions de coût</h3>
<p>En général, un producteur est modélisé par une fonction de production, c’est-à-dire une fonction qui donne les quantités produites de biens en fonction des facteurs de production. On utilise cette fonction de production pour ensuite construire une fonction de coût.</p>
<div id="def-ctotal" class="theorem definition">
<p><span class="theorem-title"><strong>Définition 1.2 (Fonction de coût total)</strong></span> La fonction de coût total, notée <span class="math inline">\(C\)</span> ou <span class="math inline">\(CT\)</span>, donne le coût total de production de <span class="math inline">\(q\)</span> unités de bien. Elle se décompose en un <em>coût fixe</em> <span class="math inline">\(CF\)</span>, qui ne dépend pas de <span class="math inline">\(q\)</span>, et un <em>coût variable</em> <span class="math inline">\(CV\)</span> qui dépend de <span class="math inline">\(q\)</span> : <span class="math display">\[C(q)=CF+ CV(q)\]</span></p>
</div>
<div id="def-cmoyen" class="theorem definition">
<p><span class="theorem-title"><strong>Définition 1.3 (Coût moyen)</strong></span> Le coût moyen est le coût de production moyen d’une unité, noté <span class="math inline">\(C_M\)</span> : <span class="math display">\[C_M(q) = \frac{C(q)}{q}\]</span></p>
</div>
<p>Le coût moyen se décompose en un <em>coût fixe moyen</em> <span class="math inline">\(CF_M\)</span> : <span class="math display">\[CF_M(q)=\frac{CF}{q}\]</span> Et un <em>coût variable moyen</em> <span class="math inline">\(CV_M\)</span> : <span class="math display">\[CV_M(q)=\frac{CV(q)}{q}\]</span> On a alors : <span id="eq-CM"><span class="math display">\[
C_M(q)=CF_M(q) +CV_M(q)
\tag{1.1}\]</span></span></p>
<div class="proof">
<p><span class="proof-title"><em>Preuve</em>. </span><span class="math display">\[
\begin{array}{rcl}
C_M(q) &amp;=&amp; \frac{C(q)}{q}\\
&amp;=&amp; \frac{CF + CV(q)}{q}\\
&amp;=&amp; \frac{CF}{q}+\frac{CV(q)}{q}\\
&amp;=&amp; CF_M(q) + CV_M(q)
\end{array}
\]</span></p>
</div>
<div id="def-cmarginal" class="theorem definition">
<p><span class="theorem-title"><strong>Définition 1.4 (Coût marginal)</strong></span> Le coût marginal, noté <span class="math inline">\(C_m\)</span>, est l’augmentation du coût lié à la production d’une unité supplémentaire : <span class="math display">\[
C_m(q)=\lim_{\Delta q\to 0}\frac{C(q+\Delta q)-C(q)}{\Delta q}=C'(q)
\]</span></p>
</div>
<p>Autrement dit, le coût marginal est la variation de coût total quand la production varie “un tout petit peu” (infiniment peu en fait).</p>
<div id="prp-variations-cout" class="theorem proposition">
<p><span class="theorem-title"><strong>Proposition 1.1 (Variations des courbes de coût)</strong></span> En général, le coût marginal diminue puis augmente, car la productivité marginale est d’abord croissante, puis décroissante.<br>
Le coût variable moyen est d’abord décroissant, puis croissant, pour la même raison.<br>
Le coût fixe moyen est toujours décroissant, car le coût fixe ne dépend pas des quantités produites et <span class="math inline">\(CF_M(q)=CF/q\)</span> est une fonction inverse.<br>
La décomposition donnée par l’<a href="#eq-CM" class="quarto-xref">équation&nbsp;<span>1.1</span></a> implique que le coût moyen est d’abord décroissant, puis croissant.</p>
</div>
<div id="prp-relations-cout" class="theorem proposition">
<p><span class="theorem-title"><strong>Proposition 1.2 (Relations entre les coûts)</strong></span> Lorsque le coût marginal est inférieur au coût (variable) moyen (<span class="math inline">\(C_m(q)&lt;C_M(q)\)</span>), le coût moyen diminue. Lorsque le coût marginal est supérieur au coût (variable) moyen (<span class="math inline">\(C_m(q)&gt;C_M(q)\)</span>), le coût moyen augmente. La courbe de coût marginal coupe donc la courbe de coût (variable) moyen à son minimum.</p>
</div>
<p>L’intuition de ce résultat est la suivante : si le coût d’une unité supplémentaire est supérieur au coût moyen des unités précédentes, alors l’unité supplémentaire produite sera plus chère que la moyenne du coût des unités précédentes produites, augmentant de ce fait le coût moyen, et vice-versa. L’illustration graphique est donnée sur la <a href="#fig-cppcout" class="quarto-xref">figure&nbsp;<span>1.1</span></a></p>
<div class="proof">
<p><span class="proof-title"><em>Preuve</em>. </span>En son minimum, le coût moyen est tel que <span class="math inline">\(C_M'(q)=0\)</span>. <span class="math display">\[
\begin{array}{crcl}
&amp;C_M'(q)&amp;=&amp;0\\
\Leftrightarrow &amp; \left(\frac{C(q)}{q}\right)'&amp;=&amp; 0\\
\Leftrightarrow &amp; \frac{C'(q)q-C(q)}{q^2}&amp;=&amp; 0\\
\Leftrightarrow &amp; \frac{C_m(q)}{q}-\frac{C(q)}{q^2}&amp;=&amp; 0\\
\Leftrightarrow &amp; C_m(q)q-C(q)&amp;=&amp; 0\\
\Leftrightarrow &amp; C_m(q)&amp;=&amp; \frac{C(q)}{q}\\
\Leftrightarrow &amp; C_m(q)&amp;=&amp; C_M(q)
\end{array}
\]</span> La démonstration est similaire pour le coût variable moyen.</p>
</div>
<div class="cell">
<div class="cell-output-display">
<div id="fig-cppcout" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-cppcout-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="01-cpp_files/figure-html/fig-cppcout-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-cppcout-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1.1: Exemples de fonctions de coût.
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="loffre-du-producteur" class="level3" data-number="1.2.2">
<h3 data-number="1.2.2" class="anchored" data-anchor-id="loffre-du-producteur"><span class="header-section-number">1.2.2</span> L’offre du producteur</h3>
<div id="def-rtotale" class="theorem definition">
<p><span class="theorem-title"><strong>Définition 1.5 (Recette totale)</strong></span> La recette totale, notée <span class="math inline">\(R\)</span> ou <span class="math inline">\(RT\)</span>, est la recette issue de la vente des biens. Pour <span class="math inline">\(q\)</span> unités de bien vendus, le producteur gagne <span class="math inline">\(R(q)\)</span>, autrement dit, c’est le chiffre d’affaire du producteur (pour ce bien).</p>
</div>
<div id="def-rmarginale" class="theorem definition">
<p><span class="theorem-title"><strong>Définition 1.6 (Recette marginale)</strong></span> La recette marginale, notée <span class="math inline">\(R_m\)</span> est la recette rapportée par une unité supplémentaire de bien vendue. <span class="math display">\[R_m(q)=R'(q)\]</span></p>
</div>
<div id="def-profit" class="theorem definition">
<p><span class="theorem-title"><strong>Définition 1.7 (Profit)</strong></span> Le profit, noté <span class="math inline">\(\pi\)</span> est la différence entre la recette totale et le coût total de production : <span class="math display">\[\pi(q)=R(q)-C(q)\]</span> Le profit s’appelle couramment le bénéfice.</p>
</div>
<div id="cnj-programme-producteur" class="theorem conjecture">
<p><span class="theorem-title"><strong>Hypothèse 1.6 (Programme du producteur)</strong></span> Le producteur choisit la quantité produite de manière à maximiser son profit. Mathématiquement, il résout le programme suivant : <span class="math display">\[\max_q\pi(q)=\max_q R(q)-C(q)\]</span></p>
</div>
<div id="thm-offre" class="theorem">
<p><span class="theorem-title"><strong>Théorème 1.1 (Offre du producteur)</strong></span> Le programme du producteur est tel que la quantité optimale produite <span class="math inline">\(q^*\)</span> égalise le coût marginal et la recette marginale (condition du premier ordre) : <span id="eq-cppopti"><span class="math display">\[
R_m(q^*) =C_m(q^*)
\tag{1.2}\]</span></span> Il est aussi tel que la recette marginal croît moins vite que le coût marginal à l’optimum (condition du second ordre) : <span class="math display">\[
R_m'(q^*) &lt;C_m'(q^*)
\]</span></p>
</div>
<div class="proof">
<p><span class="proof-title"><em>Preuve</em>. </span>L’objectif du producteur est de maximiser son profit : <span class="math display">\[
\max_q\pi(q)=\max_q R(q)-C(q)
\]</span> À l’optimum, et à condition que les fonctions de coût et de recette soient deux fois dérivables (ce qui sera toujours le cas dans ce cours). La condition du premier ordre s’écrit : <span class="math display">\[
\pi'(q)=0\Leftrightarrow R'(q)-C'(q)=0\Leftrightarrow R_m(q)=C_m(q)
\]</span> On obtient donc l’<a href="#eq-cppopti" class="quarto-xref">équation&nbsp;<span>1.2</span></a>. Pour obtenir un maximum, la condition du second ordre s’écrit : <span class="math display">\[
\pi''(q)&lt;0\Leftrightarrow R''(q)-C''(q)&lt;0\Leftrightarrow R_m'(q^*) &lt;C_m'(q^*)
\]</span></p>
</div>
<p>L’intuition pour ce résultat est la suivante. Si la recette marginale est supérieure au coût marginal (<span class="math inline">\(R_m(q)&gt;C_m(q)\)</span>), alors augmenter la quantité produite rapporte plus que cela ne coûte et donc augmente le profit. À l’inverse, si la recette marginale est inférieure au coût marginal (<span class="math inline">\(R_m(q)&lt;C_m(q)\)</span>), diminuer la quantité produite diminue plus le coût que la recette du producteur et donc augmente le profit. La situation s’équilibre donc pour <span class="math inline">\(R_m(q)=C_m(q)\)</span>. Si cette égalité n’est pas vérifiée, le producteur peut en effet augmenter son profit en jouant sur la quantité produite.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-profitmax" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-profitmax-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="01-cpp_files/figure-html/fig-profitmax-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-profitmax-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1.2: Maximisation du profit du producteur.
</figcaption>
</figure>
</div>
</div>
</div>
<p>En concurrence pure et parfaite, le producteur est <em>price-taker</em>. Le prix sur le marché est unique et donné , il vaut <span class="math inline">\(p\)</span> et ne dépend pas des quantités produites par <em>un</em> producteur. Le producteur vend son bien au prix défini par le marché. La recette totale devient donc <span class="math inline">\(R(q)=p\times q\)</span>, avec <span class="math inline">\(p\)</span> fixé. La recette marginale est donc <span class="math inline">\(R_m(q)=R'(q)=p\)</span>. En réécrivant l’<a href="#eq-cppopti" class="quarto-xref">équation&nbsp;<span>1.2</span></a>, on obtient en concurrence pure et parfaite : <span class="math display">\[p=C_m(q)\]</span></p>
<div id="prp-offreCPP" class="theorem proposition">
<p><span class="theorem-title"><strong>Proposition 1.3 (Offre du producteur en CPP)</strong></span> En concurrence pure et parfaite, le producteur maximise son profit en égalisant son coût marginal au prix du marché : <span class="math display">\[C_m(q^*)=p\]</span> À condition que son coût marginal soit croissant en <span class="math inline">\(q^*\)</span> (<span class="math inline">\(C_m'(q^*)&gt;0\)</span>).</p>
</div>
<div id="def-offre" class="theorem definition">
<p><span class="theorem-title"><strong>Définition 1.8 (Courbe d’offre d’un producteur)</strong></span> La courbe d’offre d’un producteur donne la quantité maximale que souhaite produire un producteur pour chaque prix.</p>
</div>
<div id="prp-courbeoffreCPP" class="theorem proposition">
<p><span class="theorem-title"><strong>Proposition 1.4 (Courbe d’offre en CPP)</strong></span> En concurrence pure et parfaite, la courbe d’offre d’un producteur est donnée par son coût marginal. <span class="math display">\[p=C_m(q)\]</span></p>
</div>
<p>Le profit du producteur s’écrit alors : <span class="math display">\[
\pi(q)=R(q)-C(q)=pq-C(q)=pq-C_M(q)q=q(p-C_M(q))
\]</span> <span id="eq-profitCM"><span class="math display">\[
\pi(q)=q(p-C_M(q))
\tag{1.3}\]</span></span> L’<a href="#eq-profitCM" class="quarto-xref">équation&nbsp;<span>1.3</span></a> nous dit que le profit d’un producteur en concurrence pure et parfaite est la différence entre le prix de vente et le coût moyen de production multiplié par le nombre d’unités vendues. Si ce prix est inférieur au coût moyen de toutes les unités vendues, le profit sera négatif. Dans la <a href="#fig-cppprofit" class="quarto-xref">figure&nbsp;<span>1.3</span></a>, le profit est donné par le rectangle vert.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-cppprofit" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-cppprofit-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="01-cpp_files/figure-html/fig-cppprofit-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-cppprofit-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1.3: Profit d’un producteur en concurrence pure et parfaite.
</figcaption>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="le-consommateur" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="le-consommateur"><span class="header-section-number">1.3</span> Le consommateur</h2>
<p>La modélisation des consommateurs dans ce cours est simple.</p>
<div id="def-dindiv" class="theorem definition">
<p><span class="theorem-title"><strong>Définition 1.9 (Demande individuelle)</strong></span> La fonction de demande d’un consommateur correspond à la suite des prix maximaux qu’un consommateur est prêt à payer pour obtenir une unité <em>supplémentaire</em> du bien. On la note souvent <span class="math inline">\(Q\)</span>.</p>
</div>
<p>On appelle ce prix maximum le <em>prix de réserve</em>.</p>
<div id="prp-vari-demande" class="theorem proposition">
<p><span class="theorem-title"><strong>Proposition 1.5 (Variation de la fonction de demande)</strong></span> La fonction de demande est décroissante.</p>
</div>
<p>L’intuition est la suivante, un consommateur est prêt à payer plus pour la première unité de biens reçu que pour la suivante. Par exemple, la premier litre d’eau dans le désert à beaucoup plus de valeur que le dixième.</p>
<div class="proof remark">
<p><span class="proof-title"><em>Remarque</em> (Demande et demande inverse). </span>La fonction de demande donne la quantité en fonction du prix (<span class="math inline">\(Q(p)\)</span>). La plupart du temps, nous aurons besoin de la fonction de demande inverse (<span class="math inline">\(P(q)\)</span>), qui donne le prix en fonction de la quantité. Il faudra donc inverser, au sens mathématique, la fonction de demande pour obtenir la fonction de demande inverse.</p>
</div>
</section>
<section id="léquilibre-de-marché" class="level2" data-number="1.4">
<h2 data-number="1.4" class="anchored" data-anchor-id="léquilibre-de-marché"><span class="header-section-number">1.4</span> L’équilibre de marché</h2>
<div id="def-dagregee" class="theorem definition">
<p><span class="theorem-title"><strong>Définition 1.10 (Demande agrégée (D))</strong></span> La <em>demande agrégée (D)</em> est la somme des demandes individuelles pour chaque niveau de prix.</p>
</div>
<div id="def-offre-agregee" class="theorem definition">
<p><span class="theorem-title"><strong>Définition 1.11 (Offre agrégée (S))</strong></span> L’<em>offre agrégée (S)</em> est la somme des offres individuelles pour chaque niveau de prix.</p>
</div>
<p>La courbe d’offre correspond à la série des coûts marginaux de production, c’est-à-dire aux prix minimaux auxquels les producteurs souhaitent vendre une unité supplémentaire du bien.</p>
<div id="def-equilibreCPP" class="theorem definition">
<p><span class="theorem-title"><strong>Définition 1.12 (Équilibre de marché)</strong></span> L’équilibre de marché se fait à l’intersection entre l’offre agrégée (S) et la demande agrégée (D) (quand S=D).</p>
</div>
<p>À l’équilibre de marché, on obtient une quantité d’équilibre (notée <span class="math inline">\(q^*\)</span>) et un prix d’équilibre (noté <span class="math inline">\(p^*\)</span>). La vente de toutes les unités jusqu’à la quantité d’équilibre <span class="math inline">\(q^*\)</span> au prix <span class="math inline">\(p^*\)</span> procure un <em>surplus</em> aux agents économiques.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-marche" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-marche-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="01-cpp_files/figure-html/fig-marche-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-marche-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1.4: Equilibre de marché.
</figcaption>
</figure>
</div>
</div>
</div>
<div id="def-surplus-conso" class="theorem definition">
<p><span class="theorem-title"><strong>Définition 1.13 (Surplus des consommateurs)</strong></span> Le surplus des consommateurs est la somme des différences entre le prix de réserve des consommateurs et le prix payé par le consommateur pour obtenir les biens. Sur le graphique quantité prix <span class="math inline">\((q, p)\)</span>, c’est l’aire comprise entre la courbe de demande et la droite horizontale dont l’ordonnée est le prix d’échange. Formellement : <span class="math display">\[S_c=\int_0^{q^*}P(q)-p^* dq\]</span></p>
</div>
<div class="proof remark">
<p><span class="proof-title"><em>Remarque</em>. </span>Seule la dernière unité de bien achetée par les consommateur l’est au prix de réserve. Il n’y a pas de gain à l’échange pour cette unité, mais pour toutes les autres, il y en a, ce qui explique pourquoi il y a un surplus à l’échange, et pourquoi celui-ci a lieu.</p>
</div>
<div id="def-surplus-prod" class="theorem definition">
<p><span class="theorem-title"><strong>Définition 1.14 (Surplus des producteurs)</strong></span> Le surplus des producteurs est la somme des différences entre le prix auquel les producteurs vendent le bien et la courbe de coût marginal, qui représente le coût d’une unité supplémentaire produite. Sur le graphique quantité prix <span class="math inline">\((q, p)\)</span>, c’est l’aire comprise entre le prix de vente et la courbe de coût marginal. Formellement : <span class="math display">\[S_p=\int_0^{q^*}p^*-S(q) dq\]</span></p>
</div>
<p>En pratique, on utilisera jamais la formule avec des intégrales, mais on calculera l’aire du triangle (ou trapèze) concerné.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-surplus" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-surplus-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="01-cpp_files/figure-html/fig-surplus-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-surplus-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1.5: Surplus des consommateurs et des producteurs.
</figcaption>
</figure>
</div>
</div>
</div>
<div id="prp-cppprop" class="theorem proposition">
<p><span class="theorem-title"><strong>Proposition 1.6 (Propriétés de l’équilibre en concurrence pure et parfaite)</strong></span> L’équilibre en CPP <strong>maximise</strong> le <em>surplus total</em>. Tout autre couple (prix, quantité) abouti à un surplus total plus faible.<br>
L’équilibre en CPP est dit <em>Pareto-optimal</em>, i.e., il est impossible d’améliorer la situation d’un agent sans détériorer celle d’un autre. C’est ce qu’on appelle le <em>premier théorème du bien-être</em>.</p>
</div>
<p>Ces propriétés font de la CPP une “référence” par rapport à laquelle on peut comparer les résultats des autres structures de marché.</p>
</section>
<section id="perception-par-les-agents-isolés" class="level2" data-number="1.5">
<h2 data-number="1.5" class="anchored" data-anchor-id="perception-par-les-agents-isolés"><span class="header-section-number">1.5</span> Perception par les agents isolés</h2>
<p>L’hypothèse d’atomicité indique que les agents individuels sont isolés au sein d’un très grand nombre d’autres agents. Ainsi, aucun agent n’a d’influence sur le prix s’il modifie son comportement. Une conséquence directe est que le comportement des autres agents est perçu comme étant infiniment élastique. C’est-à-dire qu’un producteur sait qu’au prix de marché, il pourra vendre toute sa production, mais que s’il pratique un prix même légèrement plus élevé, il ne vendra <strong>rien</strong>. Il perçoit ainsi une demande infiniment élastique au prix, au niveau du prix <span class="math inline">\(p^*\)</span>.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-elasticite" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-elasticite-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="01-cpp_files/figure-html/fig-elasticite-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-elasticite-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1.6: Perception de la demande globale par un producteur isolé.
</figcaption>
</figure>
</div>
</div>
</div>
<p>Dans la <a href="#fig-elasticite" class="quarto-xref">figure&nbsp;<span>1.6</span></a>, <span class="math inline">\(q^*\)</span> représente la production optimale de ce producteur quand il est seul.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copié");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copié");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./index.html" class="pagination-link" aria-label="Microéconomie 2">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Microéconomie 2</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./02-monopole.html" class="pagination-link" aria-label="Le monopole">
        <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Le monopole</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>